

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>data_transformer &mdash; ctxalgolib 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ctxalgolib 0.1 documentation" href="../index.html"/>
        <link rel="up" title="ohlc" href="index.html"/>
        <link rel="next" title="bar_generator" href="bar_generator.html"/>
        <link rel="prev" title="ohlc_concatenator" href="ohlc_concatenator.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> ctxalgolib
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../loggers/index.html">loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../risk/index.html">risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pub_subs/index.html">pub_subs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rule_checking/index.html">rule_checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news_analysis/index.html">news_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache/index.html">cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wind/index.html">wind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messaging/index.html">messaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading_utils/index.html">trading_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timer/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mt4/index.html">mt4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backtesting/index.html">backtesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html">machine_learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ta/index.html">ta</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output/index.html">output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pydot/index.html">pydot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slippage/index.html">slippage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trial/index.html">trial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ohlc</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data_row_transformers/index.html">data_row_transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="holidays/index.html">holidays</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_transformer.html">time_transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="exright.html">exright</a></li>
<li class="toctree-l2"><a class="reference internal" href="constraint_based_ohlc_generator.html">constraint_based_ohlc_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="volatility_ohlc_utils.html">volatility_ohlc_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="bar_arrival_request.html">bar_arrival_request</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_spec_utils.html">ohlc_spec_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="ctp_file_log_reader.html">ctp_file_log_reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="volatility_ohlc_merger.html">volatility_ohlc_merger</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_comparer.html">ohlc_comparer</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_concatenator.html">ohlc_concatenator</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">data_transformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="bar_generator.html">bar_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_equality_checker.html">ohlc_equality_checker</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_binary_reader_writer.html">ohlc_binary_reader_writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_logger.html">ohlc_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="abstract_ohlc.html">abstract_ohlc</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_utils.html">ohlc_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="price_type.html">price_type</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_generator.html">ohlc_generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="trading_days.html">trading_days</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_merger.html">ohlc_merger</a></li>
<li class="toctree-l2"><a class="reference internal" href="periodicity.html">periodicity</a></li>
<li class="toctree-l2"><a class="reference internal" href="ohlc_reader_writer.html">ohlc_reader_writer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../charting/index.html">charting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report/index.html">report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_imports/index.html">data_imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trail/index.html">trail</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_trading/index.html">http_trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../time_series/index.html">time_series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eval/index.html">eval</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission_control/index.html">mission_control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">utils</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ctxalgolib</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">ohlc</a> &raquo;</li>
      
    <li>data_transformer</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../sources/ohlc/data_transformer.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ctxalgolib.ohlc.data_transformer">
<span id="data-transformer"></span><h1>data_transformer<a class="headerlink" href="#module-ctxalgolib.ohlc.data_transformer" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="ctxalgolib.ohlc.data_transformer.get_seconds_since_epoch">
<code class="descclassname">ctxalgolib.ohlc.data_transformer.</code><code class="descname">get_seconds_since_epoch</code><span class="sig-paren">(</span><em>timestamp</em>, <em>epoch</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.get_seconds_since_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of seconds since epoch.
:param timestamp: datetime, Python datetime object.
:param epoch: datetime, the Python epoch.
:return: numpy.float64, the number of seconds after epoch. It is a float because of milliseconds.</p>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.ohlc.data_transformer.get_timestamp">
<code class="descclassname">ctxalgolib.ohlc.data_transformer.</code><code class="descname">get_timestamp</code><span class="sig-paren">(</span><em>timestamp_string</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse timestamp_string into python datetime.
:param timestamp_string: string, timestamp string in either %Y-%m-%d %H:%M:%S or %Y-%m-%d %H:%M:%S.%f.
:return: datetime, Python datetime.</p>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.ohlc.data_transformer.load_csv">
<code class="descclassname">ctxalgolib.ohlc.data_transformer.</code><code class="descname">load_csv</code><span class="sig-paren">(</span><em>path</em>, <em>with_header=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.load_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Load csv file into two dimensional Python array.
:param path: string, path of the csv file.
:param with_header: bool, if True, the source data contains header file.
:return: [[object]], loaded data. Loaded data will not contain header row.</p>
</dd></dl>

<dl class="class">
<dt id="ctxalgolib.ohlc.data_transformer.AbstractDataRowTransformer">
<em class="property">class </em><code class="descclassname">ctxalgolib.ohlc.data_transformer.</code><code class="descname">AbstractDataRowTransformer</code><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.AbstractDataRowTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Abstract class which transforms a source data row into an one dimensional numpy array of output row.
Note that the output row may not have the same number of columns as the input row, but each element
of the output row must be of either int64, float64.</p>
<dl class="method">
<dt id="ctxalgolib.ohlc.data_transformer.AbstractDataRowTransformer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>row</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.AbstractDataRowTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>transform the given input row into output row.
:param row: [object], Python array of input row.
:return: numpy.array, output row.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ctxalgolib.ohlc.data_transformer.DataTransformerToNumpy">
<em class="property">class </em><code class="descclassname">ctxalgolib.ohlc.data_transformer.</code><code class="descname">DataTransformerToNumpy</code><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.DataTransformerToNumpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ctxalgolib.ohlc.data_transformer.DataTransformerToNumpy.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>data</em>, <em>row_transformer</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.DataTransformerToNumpy.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform data into a numpy ndarry using row_transformer.
:param data: [[object]], two dimensional Python array represents a table of data. Each inner array represents</p>
<blockquote>
<div>a row, and the outer array represents the list of rows.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>row_transformer</strong> &#8211; AbstractDataRowTransformer, a row transformer to transform an input row into output row.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">numpy.ndarray, two dimensional numpy array of the transformed data.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ctxalgolib.ohlc.data_transformer.FolderTransformer">
<em class="property">class </em><code class="descclassname">ctxalgolib.ohlc.data_transformer.</code><code class="descname">FolderTransformer</code><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.FolderTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="ctxalgolib.ohlc.data_transformer.FolderTransformer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>transformer</em>, <em>input_folder</em>, <em>output_folder</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.ohlc.data_transformer.FolderTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform all text data files (recursively in sub-folders) in input_folder using transformer, and output
the transformed data in output_folder with the same sub-folder structure.
1. text data files are identified by their extensions in the FileConstants.binary_extensions set.
2. To save a numpy.ndarray in file, use the tofile method from the ndarry object. And the file name should</p>
<blockquote>
<div>have FileConstants.default_binary_extension as extension.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transformer</strong> &#8211; DataTransformerToNumpy, the data transformer.</li>
<li><strong>input_folder</strong> &#8211; string, the input folder path.</li>
<li><strong>output_folder</strong> &#8211; string, the output folder path. If some folders, including the output_folder,
does not exist, create them.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bar_generator.html" class="btn btn-neutral float-right" title="bar_generator" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ohlc_concatenator.html" class="btn btn-neutral" title="ohlc_concatenator" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, .
      Last updated on Feb 22, 2017.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>