

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mission_control &mdash; ctxalgolib 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ctxalgolib 0.1 documentation" href="../index.html"/>
        <link rel="up" title="mission_control" href="index.html"/>
        <link rel="next" title="scripts" href="../scripts/index.html"/>
        <link rel="prev" title="message_constants" href="message_constants.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> ctxalgolib
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../loggers/index.html">loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../risk/index.html">risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pub_subs/index.html">pub_subs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rule_checking/index.html">rule_checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news_analysis/index.html">news_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache/index.html">cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wind/index.html">wind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messaging/index.html">messaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading_utils/index.html">trading_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timer/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mt4/index.html">mt4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backtesting/index.html">backtesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html">machine_learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ta/index.html">ta</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output/index.html">output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pydot/index.html">pydot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slippage/index.html">slippage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trial/index.html">trial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ohlc/index.html">ohlc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../charting/index.html">charting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report/index.html">report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_imports/index.html">data_imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trail/index.html">trail</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_trading/index.html">http_trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../time_series/index.html">time_series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eval/index.html">eval</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">mission_control</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="message_constants.html">message_constants</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mission_control</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">utils</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ctxalgolib</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">mission_control</a> &raquo;</li>
      
    <li>mission_control</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../sources/mission_control/mission_control.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ctxalgolib.mission_control.mission_control">
<span id="mission-control"></span><h1>mission_control<a class="headerlink" href="#module-ctxalgolib.mission_control.mission_control" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl">
<em class="property">class </em><code class="descclassname">ctxalgolib.mission_control.mission_control.</code><code class="descname">MissionControl</code><span class="sig-paren">(</span><em>context</em>, <em>queue_to_mission_controller</em>, <em>queue_from_mission_controller</em>, <em>strategy_name=''</em>, <em>proxy=False</em>, <em>send_through_thread=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../pub_subs/abstract_data_subscriber.html#ctxalgolib.pub_subs.abstract_data_subscriber.AbstractDataSubscriber" title="ctxalgolib.pub_subs.abstract_data_subscriber.AbstractDataSubscriber"><code class="xref py py-class docutils literal"><span class="pre">ctxalgolib.pub_subs.abstract_data_subscriber.AbstractDataSubscriber</span></code></a>, <a class="reference internal" href="../pub_subs/abstract_data_publisher.html#ctxalgolib.pub_subs.abstract_data_publisher.AbstractDataPublisher" title="ctxalgolib.pub_subs.abstract_data_publisher.AbstractDataPublisher"><code class="xref py py-class docutils literal"><span class="pre">ctxalgolib.pub_subs.abstract_data_publisher.AbstractDataPublisher</span></code></a></p>
<dl class="docutils">
<dt>Class that represents an interface to the mission controller. Current class can communicate with the mission</dt>
<dd><p class="first">controller in two directions, both async. This is achieved through two publisher-subscriber channels.</p>
<p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+        Pub-Sub1           +&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+
|                      |  &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;&gt;   |                      |
|    Current class     |        Pub-Sub2          |  Mission Controller  |
|                      |  &lt;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-    |                      |
+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+                           +&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>
<p>Through the Pub-Sub1 channel, current class sends messages to the mission controller, the mission controller
receives messages from current class.</p>
<p class="last">Through the Pub-Sub2 channel, the mission controller sends messages to the current class, and the current class
receives messages from the mission controller.</p>
</dd>
</dl>
<p>The messages are two-part messages. The first part indicates the receiver strategy, the second part is the
content of the message. The first part is used to match with the filter attribute in current class to make
sure that the message is for the proper strategy.</p>
<p>The message receiving from the publisher is non-blocking. If there is no message from the mission controller
for the moment, the returned message from the receive method will be None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue_to_mission_controller</strong> &#8211; string, the address (such as IP address and port) to
send messages from the strategy to mission control center.</li>
<li><strong>queue_from_mission_controller</strong> &#8211; string, the address (such as IP address and port) to
receive messages sent from mission control center into the strategy.</li>
<li><strong>strategy_name</strong> &#8211; string, the filter for the queuing system. usually the value is
strategy full name, which is usually product_tag.strategy_name.</li>
<li><strong>proxy</strong> &#8211; bool, if True, the messages are sent through a proxy.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.publisher_socket">
<code class="descname">publisher_socket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.publisher_socket" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.send_to_mission_controller">
<code class="descname">send_to_mission_controller</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.send_to_mission_controller" title="Permalink to this definition">¶</a></dt>
<dd><p>Send message to the mission controller. Sending message is non-blocking.
Note: this is a blocking call, you should call this method in a separate thread.
:param message: string, the message to send.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.receive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.subscriber_socket">
<code class="descname">subscriber_socket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.subscriber_socket" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.dispose">
<code class="descname">dispose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.dispose" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispose current subscriber.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.context">
<code class="descname">context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the context used by zeromq sockets.
:return: zeromq Context.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.has_disposed">
<code class="descname">has_disposed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.has_disposed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>topic</em>, <em>content</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send message.
:param topic: string, the zmq message topic/filter.
:param content: string, the message content.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.sender_thread">
<code class="descname">sender_thread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.sender_thread" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.set_on_data_action">
<code class="descname">set_on_data_action</code><span class="sig-paren">(</span><em>action</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.set_on_data_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Set self.on_data_action with action.
:param action: Function pointer with a single parameter.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.set_options">
<code class="descname">set_options</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.set_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.set_subscriber_socket_with_options">
<code class="descname">set_subscriber_socket_with_options</code><span class="sig-paren">(</span><em>sock</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.set_subscriber_socket_with_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionControl.should_send_through_thread">
<code class="descname">should_send_through_thread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionControl.should_send_through_thread" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ctxalgolib.mission_control.mission_control.MissionController">
<em class="property">class </em><code class="descclassname">ctxalgolib.mission_control.mission_control.</code><code class="descname">MissionController</code><span class="sig-paren">(</span><em>context</em>, <em>queues_from_strategies=None</em>, <em>queues_into_strategies=None</em>, <em>with_poller=True</em>, <em>strategy_name=''</em>, <em>proxy=False</em>, <em>proxy_ip=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class that represents a mission contoller, which is outside strategies and reads messages from strategies and
sends messages into strategies.</p>
<p>Initialize current.
:param context: zmq.Context, zmq context.
:param queues_from_strategies: string, or dict{string: string}, if the type is string, it represents</p>
<blockquote>
<div>a single queue address from strategy. It will use the strategy_name parameter.
If the type is dict{string: string}, it means dict{strategy_name: address},
then the topic parameter will be ignored.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queues_into_strategies</strong> &#8211; string, or dict{string: string}, if the type is string, it represents
a single queue address into strategy. It will use the topic given by the topic parameter.
If the type is dict{string: string}, it means dict{topic: address},
then the topic parameter will be ignored.</li>
<li><strong>with_poller</strong> &#8211; bool, if True, create an internal Poller, so you can call self.poll_from_strategy().</li>
<li><strong>strategy_name</strong> &#8211; string, strategy name. or [string], a list of strategy names.</li>
<li><strong>proxy</strong> &#8211; bool, if True, the messages are sent through a proxy.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionController.from_strategy_sockets">
<code class="descname">from_strategy_sockets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionController.from_strategy_sockets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of subscriber sockets to read messages from strategies.
:return: [zmq socket].</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionController.to_strategy_sockets">
<code class="descname">to_strategy_sockets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionController.to_strategy_sockets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of publisher sockets to send messages from strategies.
:return: [zmq socket].</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionController.send_to_strategy">
<code class="descname">send_to_strategy</code><span class="sig-paren">(</span><em>topic</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionController.send_to_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message with topic into strategy or strategies.
Note: this is a blocking call, you should call this method in a separate thread.
:param topic: string, topic.
:param message: string message.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionController.poll_from_strategy">
<code class="descname">poll_from_strategy</code><span class="sig-paren">(</span><em>timeout=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionController.poll_from_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Poll messages from strategies.
:param timeout: int, in second, poll timeout.
:return: dict{string: [string]}, meaning dict{topic: [messages with same topic]}.</p>
<blockquote>
<div>If no message at all, return an empty dict.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.mission_control.mission_control.MissionController.dispose">
<code class="descname">dispose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.mission_control.mission_control.MissionController.dispose" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispose all created zmq sockets.
:return:</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../scripts/index.html" class="btn btn-neutral float-right" title="scripts" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="message_constants.html" class="btn btn-neutral" title="message_constants" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, .
      Last updated on Apr 06, 2017.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>