

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>check_ohlc_equality &mdash; ctxalgolib 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ctxalgolib 0.1 documentation" href="../index.html"/>
        <link rel="up" title="scripts" href="index.html"/>
        <link rel="next" title="extract_instrument_from_data_preparer_folder" href="extract_instrument_from_data_preparer_folder.html"/>
        <link rel="prev" title="update_stock_info" href="update_stock_info.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> ctxalgolib
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../loggers/index.html">loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../risk/index.html">risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pub_subs/index.html">pub_subs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rule_checking/index.html">rule_checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news_analysis/index.html">news_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache/index.html">cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wind/index.html">wind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messaging/index.html">messaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading_utils/index.html">trading_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timer/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mt4/index.html">mt4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backtesting/index.html">backtesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html">machine_learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ta/index.html">ta</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output/index.html">output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pydot/index.html">pydot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slippage/index.html">slippage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trial/index.html">trial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ohlc/index.html">ohlc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../charting/index.html">charting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report/index.html">report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_imports/index.html">data_imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trail/index.html">trail</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_trading/index.html">http_trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../time_series/index.html">time_series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eval/index.html">eval</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission_control/index.html">mission_control</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">scripts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rule_checking/index.html">rule_checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="wind/index.html">wind</a></li>
<li class="toctree-l2"><a class="reference internal" href="stock/index.html">stock</a></li>
<li class="toctree-l2"><a class="reference internal" href="alpha_data/index.html">alpha_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="wind_base_data/index.html">wind_base_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_stock_plates_from_sohu.html">update_stock_plates_from_sohu</a></li>
<li class="toctree-l2"><a class="reference internal" href="import_future_commissions_in_database.html">import_future_commissions_in_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_trading_days.html">generate_trading_days</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_shibor.html">update_shibor</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_future_commission.html">collect_future_commission</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_stock_info.html">update_stock_info</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">check_ohlc_equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="extract_instrument_from_data_preparer_folder.html">extract_instrument_from_data_preparer_folder</a></li>
<li class="toctree-l2"><a class="reference internal" href="extract_rumian_blogs.html">extract_rumian_blogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_state_company.html">collect_state_company</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_future_info_classes.html">generate_future_info_classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_fund_holders.html">collect_fund_holders</a></li>
<li class="toctree-l2"><a class="reference internal" href="import_from_dafuweng.html">import_from_dafuweng</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_stock_returns.html">update_stock_returns</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_capital_structure.html">update_capital_structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_user_stock_pool.html">update_user_stock_pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="gracefull_killer.html">gracefull_killer</a></li>
<li class="toctree-l2"><a class="reference internal" href="identify_stocks.html">identify_stocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_major_money.html">update_major_money</a></li>
<li class="toctree-l2"><a class="reference internal" href="retrieve_missing_stock_names.html">retrieve_missing_stock_names</a></li>
<li class="toctree-l2"><a class="reference internal" href="find_missing_stock_exrights.html">find_missing_stock_exrights</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_security_pinyin.html">update_security_pinyin</a></li>
<li class="toctree-l2"><a class="reference internal" href="import_file_to_database.html">import_file_to_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="imprt_tongdaxin_data.html">imprt_tongdaxin_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_highcharts_builder.html">generate_highcharts_builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="construct_ctxalgobase.html">construct_ctxalgobase</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_company_performance_from_163.html">update_company_performance_from_163</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_future_data_into_database.html">update_future_data_into_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3_data_updater.html">s3_data_updater</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_future_volume_multiple.html">collect_future_volume_multiple</a></li>
<li class="toctree-l2"><a class="reference internal" href="strong_stocks_statistics_calculator.html">strong_stocks_statistics_calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepare_tick_data_for_ohlc_generation.html">prepare_tick_data_for_ohlc_generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_tianya_blog.html">collect_tianya_blog</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_ohlc_for_stock_historical_data.html">generate_ohlc_for_stock_historical_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="sync_ctxlite.html">sync_ctxlite</a></li>
<li class="toctree-l2"><a class="reference internal" href="unzip_data_from_dafuweng_to_data_preparer_format.html">unzip_data_from_dafuweng_to_data_preparer_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="import_holidays_into_database.html">import_holidays_into_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_target_stock_expansion.html">collect_target_stock_expansion</a></li>
<li class="toctree-l2"><a class="reference internal" href="calculate_fundamentals.html">calculate_fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="correct_extra_large_stock_daily_price.html">correct_extra_large_stock_daily_price</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_stock_plates.html">update_stock_plates</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_index_composite_stocks_and_weights.html">collect_index_composite_stocks_and_weights</a></li>
<li class="toctree-l2"><a class="reference internal" href="calculate_plate_money_flow.html">calculate_plate_money_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="import_future_margin_into_database.html">import_future_margin_into_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_blogs.html">collect_blogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_pool_return.html">update_pool_return</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_new_stocks.html">update_new_stocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_ohlc_for_future_historical_data.html">generate_ohlc_for_future_historical_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_future_market_periods.html">generate_future_market_periods</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_sub_new_stock_open_board.html">update_sub_new_stock_open_board</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup_database.html">backup_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="calculate_stock_money_flow.html">calculate_stock_money_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_news_content.html">download_news_content</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_stock_1s_trading_data.html">process_stock_1s_trading_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_stock_3s_trading_data.html">process_stock_3s_trading_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_company_allocation_from_163.html">update_company_allocation_from_163</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_future_data_preparer_result_correctness.html">check_future_data_preparer_result_correctness</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_index_5s_trading_data.html">process_index_5s_trading_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_future_1s_trading_data.html">process_future_1s_trading_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_company_report_dates_from_163.html">update_company_report_dates_from_163</a></li>
<li class="toctree-l2"><a class="reference internal" href="script_utils.html">script_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_unique_stock_plates.html">update_unique_stock_plates</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_ohlc_with_periodicity.html">update_ohlc_with_periodicity</a></li>
<li class="toctree-l2"><a class="reference internal" href="extract_part_of_tick_data.html">extract_part_of_tick_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate_supported_futures.html">generate_supported_futures</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_share_holder_from_163.html">update_share_holder_from_163</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_company_news.html">update_company_news</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_stock_daily_from_yahoo.html">update_stock_daily_from_yahoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_market_period_same_as_estimated_from_data.html">check_market_period_same_as_estimated_from_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_future_margin_and_price_limit.html">collect_future_margin_and_price_limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="stock_data_processor.html">stock_data_processor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">utils</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ctxalgolib</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">scripts</a> &raquo;</li>
      
    <li>check_ohlc_equality</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../sources/scripts/check_ohlc_equality.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ctxalgolib.scripts.check_ohlc_equality">
<span id="check-ohlc-equality"></span><h1>check_ohlc_equality<a class="headerlink" href="#module-ctxalgolib.scripts.check_ohlc_equality" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="ctxalgolib.scripts.check_ohlc_equality.tongdaxin_parser">
<code class="descclassname">ctxalgolib.scripts.check_ohlc_equality.</code><code class="descname">tongdaxin_parser</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.scripts.check_ohlc_equality.tongdaxin_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>parse line from tongdaxin exported csv file.
:param line: string, line content from tongdaxin exported csv file
:return: tuple, parsed result of the line.</p>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.scripts.check_ohlc_equality.get_ohlc_from_file">
<code class="descclassname">ctxalgolib.scripts.check_ohlc_equality.</code><code class="descname">get_ohlc_from_file</code><span class="sig-paren">(</span><em>file_name</em>, <em>line_parser</em>, <em>has_header=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.scripts.check_ohlc_equality.get_ohlc_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Get ohlc object from the given file.
:param file_name: string, the file path to ohlc data.
:param line_parser: function pointer: string -&gt; Bar. The function pointer takes a string, which is a line</p>
<blockquote>
<div>in source_ohlc_file, and return a Bar object.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>has_header</strong> &#8211; boolean, If True, the source_ohlc_file contains a header line, which should not
be parsed by line_parser.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">OHLC, ohlc read from file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.scripts.check_ohlc_equality.get_ohlc_from_mongo">
<code class="descclassname">ctxalgolib.scripts.check_ohlc_equality.</code><code class="descname">get_ohlc_from_mongo</code><span class="sig-paren">(</span><em>mongo</em>, <em>instrument_id</em>, <em>start_time</em>, <em>end_time</em>, <em>periodicity</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.scripts.check_ohlc_equality.get_ohlc_from_mongo" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mongo</strong> &#8211; MongoConfig, the mongo database where we get ohlcs generated by market broker.</li>
<li><strong>instrument_id</strong> &#8211; string, the instrument id.</li>
<li><strong>start_time</strong> &#8211; datetime, the start time of the ohlc got from mongo.</li>
<li><strong>end_time</strong> &#8211; datetime, the end time of the ohlc got from monngo.</li>
<li><strong>periodicity</strong> &#8211; Periodicity, the period of ohlcs that we need to check.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.scripts.check_ohlc_equality.get_instrument_id">
<code class="descclassname">ctxalgolib.scripts.check_ohlc_equality.</code><code class="descname">get_instrument_id</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.scripts.check_ohlc_equality.get_instrument_id" title="Permalink to this definition">¶</a></dt>
<dd><p>parse file name of ohlc data to get the related instrument id.
:param file_name: string, external file name of ohlc data.
:return: string, ordinary instrument id of the file.</p>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.scripts.check_ohlc_equality.get_ohlc">
<code class="descclassname">ctxalgolib.scripts.check_ohlc_equality.</code><code class="descname">get_ohlc</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.scripts.check_ohlc_equality.get_ohlc" title="Permalink to this definition">¶</a></dt>
<dd><p>get ohlc data from source.
:param source: list, the first item is the source string, if starts with mongodb, should be in format
&#8216;mongodb://user:password&#64;localhost:port&#8217;, else it should be the abstract path of the ohlc file, the other items
are different according to the source string, which providing the necessary information to get the ohlc data.
:return: OHLC, ohlc data from the source.</p>
</dd></dl>

<dl class="function">
<dt id="ctxalgolib.scripts.check_ohlc_equality.check_ohlc_equality">
<code class="descclassname">ctxalgolib.scripts.check_ohlc_equality.</code><code class="descname">check_ohlc_equality</code><span class="sig-paren">(</span><em>command_line_args</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.scripts.check_ohlc_equality.check_ohlc_equality" title="Permalink to this definition">¶</a></dt>
<dd><p>compare ohlc data from different source.
:param command_line_args: command line arguments, see the help for details.
:return: [string], comparison results of the ohlcs, each item is the result of aligned bar from different sources.</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="extract_instrument_from_data_preparer_folder.html" class="btn btn-neutral float-right" title="extract_instrument_from_data_preparer_folder" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="update_stock_info.html" class="btn btn-neutral" title="update_stock_info" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, .
      Last updated on Jul 09, 2017.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>