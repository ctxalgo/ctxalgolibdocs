

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>time_series &mdash; ctxalgolib 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ctxalgolib 0.1 documentation" href="../index.html"/>
        <link rel="up" title="time_series" href="index.html"/>
        <link rel="next" title="statistics" href="../statistics/index.html"/>
        <link rel="prev" title="time_series" href="index.html"/> 

  
  <script src="../static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> ctxalgolib
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../loggers/index.html">loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../risk/index.html">risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pub_subs/index.html">pub_subs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rule_checking/index.html">rule_checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news_analysis/index.html">news_analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache/index.html">cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wind/index.html">wind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messaging/index.html">messaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading_utils/index.html">trading_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timer/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mt4/index.html">mt4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backtesting/index.html">backtesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning/index.html">machine_learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ta/index.html">ta</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output/index.html">output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/index.html">system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pydot/index.html">pydot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slippage/index.html">slippage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trial/index.html">trial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ohlc/index.html">ohlc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../charting/index.html">charting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report/index.html">report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_imports/index.html">data_imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trail/index.html">trail</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http_trading/index.html">http_trading</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">time_series</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">time_series</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eval/index.html">eval</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission_control/index.html">mission_control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripts/index.html">scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">utils</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ctxalgolib</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">time_series</a> &raquo;</li>
      
    <li>time_series</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../sources/time_series/time_series.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ctxalgolib.time_series.time_series">
<span id="time-series"></span><h1>time_series<a class="headerlink" href="#module-ctxalgolib.time_series.time_series" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries">
<em class="property">class </em><code class="descclassname">ctxalgolib.time_series.time_series.</code><code class="descname">AbstractTimeSeries</code><span class="sig-paren">(</span><em>columns</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Initialize current.
:param columns: int, the columns of numpy array</p>
<dl class="method">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries.is_read_only">
<code class="descname">is_read_only</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries.is_read_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Is current time series read-only?
:return: bool.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>rows</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the data in rows to the end of current time series.
:param rows: numpy.ndarray, N-dimensional array storing the data to be written.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all data to file storage.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>start_ts=None</em>, <em>end_ts=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data in given time range.
:param start_ts: datetime, the starting timestamp (inclusive).</p>
<blockquote>
<div>If None, read from the beginning of current time series.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>end_ts</strong> &#8211; datetime, the end timestamp (inclusive).
If None, read until the end of current time series.
This means we get the last timestamp known when read is invoked.
During the read, there can be new data appended, but we don&#8217;t care.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">numpy.ndarray, N-dimensional array storing the read data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close current time series.
After close, this time series is not usable anymore.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="ctxalgolib.time_series.time_series.AbstractTimeSeries.seconds_from_epoch">
<em class="property">static </em><code class="descname">seconds_from_epoch</code><span class="sig-paren">(</span><em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries.seconds_from_epoch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries">
<em class="property">class </em><code class="descclassname">ctxalgolib.time_series.time_series.</code><code class="descname">BinaryFileTimeSeries</code><span class="sig-paren">(</span><em>path</em>, <em>columns</em>, <em>immediate_flush=True</em>, <em>read_only=False</em>, <em>read_all=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ctxalgolib.time_series.time_series.AbstractTimeSeries" title="ctxalgolib.time_series.time_series.AbstractTimeSeries"><code class="xref py py-class docutils literal"><span class="pre">ctxalgolib.time_series.time_series.AbstractTimeSeries</span></code></a></p>
<p>Initialize current.
:param path: string, the path to the binary file for the data. Create the file</p>
<blockquote>
<div>if it does not exist, and open the file.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>columns</strong> &#8211; int, the columns of np array</li>
<li><strong>immediate_flush</strong> &#8211; bool, If True flush the data to file after every write.</li>
<li><strong>read_only</strong> &#8211; bool, if True, the time series will be read only.</li>
<li><strong>read_all</strong> &#8211; bool, if True, read all data once into memory and other reads are just
slicing the data in memory. Only can be True when read_only is True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.is_read_only">
<code class="descname">is_read_only</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.is_read_only" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>rows</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>start_ts=None</em>, <em>end_ts=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the given range of data from current time series.
If self.read_all is True, the first read will fetch all data and store it in memory, and after the first read,
the file should be closed. Later invocations to the close method will do nothing.
And continuous reads will be returning part of the data.</p>
<p>If self.read_all is False, then use binary file size, and the first component (numpy.datetime64) and binary
search to find the correct chunk of data to read from file.</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.get_row_range">
<code class="descname">get_row_range</code><span class="sig-paren">(</span><em>start_ts</em>, <em>end_ts</em>, <em>get_timestamp</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.get_row_range" title="Permalink to this definition">¶</a></dt>
<dd><p>get the range of row number according to start_ts and end_ts
:param start_ts: datetime, the start timestamp of the data we need to load (inclusive)
:param end_ts: datetime, the end timestamp of the data we need to load (inclusive)
:param get_timestamp: a function pointer with a parameter, whose type is int.</p>
<blockquote>
<div>The function would return a timestamp of a row</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(int, int) start row number and end row number (0-based)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.get_row_time_from_data">
<code class="descname">get_row_time_from_data</code><span class="sig-paren">(</span><em>row_num</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.get_row_time_from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>get the timestamp part (the first part) from data
:param row_num: int, the number of the row
:return: datetime, the timestamp of the data in this row</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.get_row_time_from_file">
<code class="descname">get_row_time_from_file</code><span class="sig-paren">(</span><em>row_num</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.get_row_time_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>get the timestamp part (the first part) from file
:param row_num: int, the number of the row
:return: datetime, the timestamp of the data in this row</p>
</dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctxalgolib.time_series.time_series.BinaryFileTimeSeries.seconds_from_epoch">
<code class="descname">seconds_from_epoch</code><span class="sig-paren">(</span><em>ts</em><span class="sig-paren">)</span><a class="headerlink" href="#ctxalgolib.time_series.time_series.BinaryFileTimeSeries.seconds_from_epoch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../statistics/index.html" class="btn btn-neutral float-right" title="statistics" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="time_series" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, .
      Last updated on Feb 07, 2017.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>